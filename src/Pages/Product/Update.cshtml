@page "{id}" // Route parameter for the product ID
@using ContosoCrafts.WebSite.Services
@inject JsonFileProductService ProductService
@model UpdateModel

@{
    // Sets the page title displayed in the browser tab
    ViewData["Title"] = "Update page";
}

<style>
    /* Styles specific to the form container */
    .form-container {
        margin: 20px auto;
        max-width: 600px; /* Sets a maximum width for the form */
        padding: 20px;
        border: 1px solid #ccc; /* Adds a light border around the form */
        border-radius: 8px; /* Rounds the corners of the form */
        background-color: #f9f9f9; /* Light background for readability */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for a 3D effect */
    }

    /* Header styling */
    h1 {
        color: #2c3e50; /* Dark blue color for the header */
        text-align: center; /* Centers the header text */
    }

    /* Styles specific to form labels */
    .form-container .form-group label {
        color: #34495e; /* Darker color for labels for readability */
        font-weight: bold; /* Bold text for labels */
    }

    /* Styles specific to form inputs */
    .form-container .form-control {
        border: 1px solid #bdc3c7; /* Light gray border */
        border-radius: 4px; /* Rounds the input field corners */
        padding: 10px; /* Padding for comfortable typing */
        width: 100%; /* Expands input fields to full width */
        box-sizing: border-box; /* Includes padding in width */
        transition: border-color 0.3s; /* Smooth transition on focus */
    }

        /* Styles when input fields are focused */
        .form-container .form-control:focus {
            border-color: #3498db; /* Changes border color on focus */
            outline: none; /* Removes default outline */
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5); /* Adds shadow on focus */
        }

    /* Styles for the submit button */
    .form-container .btn-primary {
        background-color: #3498db; /* Primary color for the button */
        border-color: #2980b9; /* Border color for button */
        color: white; /* White text color */
        padding: 10px 15px; /* Padding for the button */
        transition: background-color 0.3s, border-color 0.3s; /* Smooth transition */
    }

        /* Styles when the button is hovered */
        .form-container .btn-primary:hover {
            background-color: #2980b9; /* Darkens on hover */
            border-color: #1c598a; /* Darkens border on hover */
        }

    /* Styles for validation messages */
    .form-container .text-danger {
        color: #e74c3c; /* Red color for error messages */
    }
</style>

<h1>Update</h1>

<div class="form-container">
    <form method="post">
        <!-- Displays a summary of validation errors -->
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        @Html.HiddenFor(x => x.Product.Id) <!-- Hidden field for the product ID -->
        <!-- Form group for the product title -->
        <div class="form-group">
            <label asp-for="Product.Title" class="control-label"></label>
            <input asp-for="Product.Title" class="form-control" />
            <span asp-validation-for="Product.Title" class="text-danger"></span>
        </div>

        <!-- Form group for the product description -->
        <div class="form-group">
            <label asp-for="Product.Description" class="control-label"></label>
            <input asp-for="Product.Description" class="form-control" />
            <span asp-validation-for="Product.Description" class="text-danger"></span>
        </div>

        <!-- Form group for the product URL -->
        <div class="form-group">
            <label asp-for="Product.Url" class="control-label">URL</label>
            <input asp-for="Product.Url"
                   type="text"
                   class="form-control"
                   placeholder="e.g., https://www.example.com"
                   pattern="https?:\\/\\/(www\\.)?[a-zA-Z0-9\\-\\.]+\\.com$"
                   title="Please enter a valid URL that starts with http:// or https:// and ends with .com"
                   required />
            <small class="form-text text-muted">The URL must start with "http://" or "https://" and end with ".com".</small>
            <span asp-validation-for="Product.Url" class="text-danger"></span>
        </div>

        <!-- Form group for the product image URL -->
        <div class="form-group">
            <label asp-for="Product.Image" class="control-label"></label>
            <input asp-for="Product.Image" class="form-control" />
            <span asp-validation-for="Product.Image" class="text-danger"></span>
        </div>

        <!-- Form group for the founding year of the product -->
        <div class="form-group">
            <label asp-for="Product.FoundingYear" class="control-label"></label>
            <input asp-for="Product.FoundingYear" class="form-control" />
            <span asp-validation-for="Product.FoundingYear" class="text-danger"></span>
        </div>

        <!-- Form group for the number of trophies won by the product -->
        <div class="form-group">
            <label asp-for="Product.Trophies" class="control-label"></label>
            <input asp-for="Product.Trophies" class="form-control" />
            <span asp-validation-for="Product.Trophies" class="text-danger"></span>
        </div>

        <!-- Submit button to save the form data -->
        <div class="form-group">
            <input type="submit" value="Save" class="btn btn-primary" />
        </div>
    </form>
</div>

@section Scripts {
        // Includes client-side validation scripts
    @await Html.PartialAsync("_ValidationScriptsPartial")
}